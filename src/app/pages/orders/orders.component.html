<main>
  <h2>Zamówienia</h2>
  <section class="orders-containner">
    <header>
      <div class="container-header">
        <h3>Lista twoich zamówień</h3>
      </div>
      <div class="new-order-button">
        <a
          routerLink="nowe-zamowienie"
          routerLinkActive="active"
          mat-stroked-button
          color="primary"
          >Nowe zamówienie</a
        >
      </div>
    </header>

    <div class="list-container">
      @for (order of orders; track $index) {
        <mat-accordion>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>
                <div class="order-number" style="width: 170px">
                  <span class="bold-text"> Numer zamówienia: </span>
                  {{ order.id }}
                </div>
              </mat-panel-title>
              <mat-panel-description class="bold-text">
                <div
                  class="elapsed-time "
                  [ngClass]="{
                    'green-text':
                      (order.orderStartTime | convertToMinutes) <= 60 ||
                      undefined,
                    'orange-text':
                      (order.orderStartTime | convertToMinutes) > 60,
                  }"
                >
                  <mat-icon>timer</mat-icon>
                  <span class="bold-text" style="margin-right: 4px">
                    {{ order.orderStartTime | convertToMinutes }}
                  </span>
                  min. temu
                </div>

                Stolik: {{ order.tableNumber }}

                <mat-progress-bar
                  style="width: 150px; margin: 0 25px"
                  mode="determinate"
                  value="0"
                ></mat-progress-bar>
                0% wydane
              </mat-panel-description>
            </mat-expansion-panel-header>
            @for (dish of order.dish; track $index) {
              <p>
                <mat-checkbox>{{ dish.name }}</mat-checkbox>
              </p>
            }
          </mat-expansion-panel>
        </mat-accordion>
      }
    </div>
  </section>
</main>
